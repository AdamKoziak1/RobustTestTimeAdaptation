program: unsupervised_adapt_dataset.py
project: safer_loss
name: safer_aug_with_tta_aggro
method: grid
metric:
  name: acc_0
  goal: maximize

parameters:
  attack_source:
    value: live
  attack_preset:
    value: linf8

  adapt_alg:
    values: ["ERM", "Tent", "PL", "TSD"]

  update_param:
    value: "tent"

  lr:
    value: 0.0001

  steps:
    value: 1

  s_wrap_alg:
    value: 1
  s_num_views:
    values: [3, 4]
  s_aug_prob:
    value: 1.0
  s_aug_max_ops:
    values: [4]
  s_aug_seed:
    value: 123
  s_aug_force_noise:
    #values: [0, 1]
    value: 0
  s_aug_require_freq_blur:
    value: 1
    #values: [0, 1]
  s_input_is_normalized:
    value: -1
  s_aug_params_per_image:
    value: 1

  s_js_weight:
    value: 0.0
  s_js_mode:
    value: "pooled"
  s_js_view_pool:
    value: "matching"

  s_cc_weight:
    value: 0.0
  s_cc_mode:
    value: "pairwise"
  s_cc_view_pool:
    value: "matching"
  s_cc_offdiag:
    value: 0.01
  s_cc_impl:
    value: "fast"
  s_feat_normalize:
    value: 0

  s_cm_weight:
    value: 0.0
  s_sup_type:
    value: "none"
  s_sup_weight:
    value: 0.0
  s_sup_pl_weighted:
    value: 0
  s_sup_conf_scale:
    value: 1
  s_tta_loss:
    value: "none"
  s_tta_weight:
    value: 0.0
  s_tta_target:
    value: "views"
  s_tta_view_pool:
    value: "matching"

  s_sup_view_pool:
    values: ["entropy", "mean", "cc_drop"]
  s_view_weighting:
    value: 1
