program: unsupervised_adapt_dataset.py     
#project: tta3_train
name: tta3_feat_svd_TTA3
method: grid
metric:
  name: acc_mean
  goal: maximize

parameters:
  svd_feat_rank_ratio:
    values: [0.1, 0.15, 0.2, 0.25, 0.3, 0.35, 0.4, 0.45, 0.5, 0.55, 0.6, 0.65, 1.0]
    #values: [0.1, 0.15, 0.2, 0.25, 0.3, 0.35, 0.4, 0.45, 0.5, 0.55, 0.6, 0.65, 0.7, 0.75, 0.8, 0.85, 0.9, 0.95, 1.0]
    #values: [0.1, 0.5, 0.9, 1.0]

  svd_feat_max_layer:
    values: [1,2,3]
    #values: [0,1,2]

  svd_feat_mode:
    values: ["spatial","channel"]

  lr:
    #values: [0.0001, 0.001]
    values: [0.001]

  adapt_alg:
    value: "TTA3"
    #values: ["TTA3", "ERM"]
    
  update_param:
    value: "tent"

  steps:
    #values: [1, 10]
    values: [1]

  reg_type:
    values: ["l2logits","klprob"]

  attack_rate:
    #value: 100
    values: [0, 50, 100]

  lam_flat:
    value: 0
  lam_adv:
    value: 0
  lam_cr:
    value: 0
  lam_pl:
    value: 0
  lam_em:
    value: 1.0